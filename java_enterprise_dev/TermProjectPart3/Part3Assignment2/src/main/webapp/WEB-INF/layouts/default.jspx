<html xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:tiles="http://tiles.apache.org/tags-tiles"
      xmlns:spring="http://www.springframework.org/tags">
<jsp:output doctype-root-element="HTML" doctype-system="about:legacy-compat" />
<jsp:directive.page contentType="text/html;charset=UTF-8" />
<jsp:directive.page pageEncoding="UTF-8" />

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8" />

    <!-- set spring urls for the current theme CSS and bring that teme CSS file into the browser -->
    <spring:theme code="styleSheet" var="app_css" />
    <spring:url value="/${app_css}" var="app_css_url" />
    <link rel="stylesheet" type="text/css" media="screen" href="${app_css_url}" />

    <!-- set spring urls for bootstrap css and bring the Bootstrap CSS library into the browser -->
    <spring:url value="/resources/styles/bootstrap.min.css" var="bootstrap_url" />
    <link rel="stylesheet" type="text/css" media="screen" href="${bootstrap_url}" />

    <!-- set spring urls for jQuery then bring jQuery library into the browser -->
    <spring:url value="/resources/scripts/jquery-1.12.4.js" var="jquery_url" />
    <spring:url value="/resources/scripts/jquery-ui.min.js" var="jquery_ui_url" />
    <spring:url value="/resources/styles/custom-theme/jquery-ui.theme.min.css" var="jquery_ui_theme_css" />
    <link rel="stylesheet" type="text/css" media="screen" href="${jquery_ui_theme_css}" />
    <script src="${jquery_url}" type="text/javascript"><jsp:text/></script>
    <script src="${jquery_ui_url}" type="text/javascript"><jsp:text/></script>

    <!-- set spring urls for jpgrid then bring jpgrid library into the browser -->
    <spring:url value="/resources/jqgrid/css/ui.jqgrid.css" var="jqgrid_css" />
    <spring:url value="/resources/jqgrid/js/i18n/grid.locale-en.js" var="jqgrid_locale_url" />
    <spring:url value="/resources/jqgrid/js/jquery.jqGrid.min.js" var="jqgrid_url" />
    <link rel="stylesheet" type="text/css" media="screen" href="${jqgrid_css}" />
    <script type="text/javascript" src="${jqgrid_locale_url}"><jsp:text/></script>
    <script type="text/javascript" src="${jqgrid_url}"><jsp:text/></script>

    <!--&lt;!&ndash; Get the user locale from the page context (it was set by Spring MVC's locale resolver) &ndash;&gt;-->
    <c:set var="userLocale">
        <c:set var="plocale">${pageContext.response.locale}</c:set>
        <c:out value="${fn:replace(plocale, '_', '-')}" default="en" />
    </c:set>

    <!-- set application name for browser tabs and stuff -->
    <spring:message code="navbar_title" var="app_name" htmlEscape="false"/>
    <title>${app_name}</title>
</head>
    <!-- create general page consruction / layout -->
    <body class="container">
        <!-- header exists on every page -->
        <tiles:insertAttribute name="header" ignore="true"/>

        <div class="row mt-5 mb-5">
            <div class="col-sm-3">
                <!-- menu exists on every page -->
                <tiles:insertAttribute name="menu" ignore="true" />
            </div>
            <div class="col-sm-9">
                <!-- dynamic page content body -->
                <tiles:insertAttribute name="body"/>
            </div>
        </div>
        <div class="col-sm-12 mt-5">
            <!-- footer exists on every page -->
            <tiles:insertAttribute name="footer" ignore="true"/>
        </div>
    </body>
</html>